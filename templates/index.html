<!DOCTYPE html>
<html>
<head>
    <title>Latest GitHub Webhook Event</title>
    <meta http-equiv="refresh" content="15">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
        }
        .event-box {
            border: 1px solid #ddd;
            padding: 1.5rem;
            border-radius: 10px;
            background-color: #f9f9f9;
            max-width: 600px;
        }
    </style>
</head>
<body>
    <h1>Latest Webhook Event</h1>

    {% if data %}
        <div class="event-box">
            {% if data.action == 'push' %}
                <p><strong>{{ data.author }}</strong> pushed to <strong>{{ data.to_branch }}</strong></p>
            {% elif data.action == 'pull_request' %}
                <p><strong>{{ data.author }}</strong> submitted a pull request from <strong>{{ data.from_branch }}</strong> to <strong>{{ data.to_branch }}</strong></p>
            {% elif data.action == 'merge' %}
                <p><strong>{{ data.author }}</strong> merged branch <strong>{{ data.from_branch }}</strong> to <strong>{{ data.to_branch }}</strong></p>
            {% else %}
                <p>Unhandled action: {{ data.action }}</p>
            {% endif %}

            {% if data.timestamp %}
                <p class="time">on {{ data.timestamp.strftime("%#d %B %Y - %#I:%M %p UTC") }}</p>
            {% else %}
                <p class="time">Timestamp not available</p>
            {% endif %}
        </div>
    {% else %}
        <p>No data received yet.</p>
    {% endif %}
</body>
</html>


