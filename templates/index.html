<!DOCTYPE html>
<html>
<head>
  <title>Latest GitHub Webhook Event</title>
  <meta http-equiv="refresh" content="15" />
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 1em; }
    .event { background: #f9f9f9; padding: 1em; border-radius: 8px; margin-top: 2em; }
    .timestamp { color: gray; font-size: 0.9em; margin-top: 0.5em; }
  </style>
</head>
<body>
  <h1>Latest GitHub Webhook Event</h1>

  {% if data %}
    <div class="event">
      {% if data.action == 'push' %}
        <p><strong>{{ data.author }}</strong> pushed to <strong>{{ data.to_branch }}</strong></p>
      {% elif data.action == 'pull_request' %}
        <p><strong>{{ data.author }}</strong> submitted a pull request from <strong>{{ data.from_branch }}</strong> to <strong>{{ data.to_branch }}</strong></p>
      {% elif data.action == 'merge' %}
        <p><strong>{{ data.author }}</strong> merged branch <strong>{{ data.from_branch }}</strong> to <strong>{{ data.to_branch }}</strong></p>
      {% else %}
        <p>Unknown event type</p>
      {% endif %}

      {% if data.timestamp %}
        <p class="timestamp">
          on {{ data.timestamp.strftime("%-d") }}{{ data.timestamp.strftime("%-d")|ordinal_suffix }} {{ data.timestamp.strftime("%B %Y - %-I:%M %p UTC") }}
        </p>
      {% else %}
        <p class="timestamp">Timestamp not available</p>
      {% endif %}
    </div>
  {% else %}
    <p>No webhook events received yet.</p>
  {% endif %}
</body>
</html>


